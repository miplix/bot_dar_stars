# üí≥ –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ Telegram Stars

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ —Å –æ–ø–ª–∞—Ç–æ–π —á–µ—Ä–µ–∑ Telegram Stars.

---

## üìä –¢–∞—Ä–∏—Ñ—ã –ø–æ–¥–ø–∏—Å–∫–∏

### üéÅ –ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π
- **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è:** –ö–∞–∂–¥–æ–º—É –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–î–æ—Å—Ç—É–ø:** –ö–æ –≤—Å–µ–º –±–∞–∑–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º

### ‚≠êÔ∏è –ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞

#### üìÖ –ú–µ—Å—è—Ü
- **–¶–µ–Ω–∞:** 249 ‚≠êÔ∏è (Telegram Stars)
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 30 –¥–Ω–µ–π
- **–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:**
  - ‚úÖ –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –¥–∞—Ä–æ–≤
  - ‚úÖ –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –ò–ò
  - ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  - ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç—Ä–∞–∫—Ç–æ–≤–∫–∏
  - ‚úÖ –î–æ—Å—Ç—É–ø –∫ –±—É–¥—É—â–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º

#### üìÜ –ì–æ–¥
- **–¶–µ–Ω–∞:** 2499 ‚≠êÔ∏è (Telegram Stars)
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 365 –¥–Ω–µ–π
- **–í—ã–≥–æ–¥–∞:** ~17% –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –º–µ—Å—è—á–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π
- **–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–µ—Å—è—á–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### –¢–∞–±–ª–∏—Ü–∞ `users`
```sql
CREATE TABLE users (
    user_id INTEGER PRIMARY KEY,
    username TEXT,
    first_name TEXT,
    birth_date TEXT,
    registration_date TEXT,
    subscription_type TEXT DEFAULT 'trial',  -- trial, premium_month, premium_year
    subscription_end_date TEXT,             -- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
    is_active INTEGER DEFAULT 1
)
```

#### –¢–∞–±–ª–∏—Ü–∞ `payments`
```sql
CREATE TABLE payments (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    amount INTEGER,                -- –°—É–º–º–∞ –≤ –∑–≤–µ–∑–¥–∞—Ö
    currency TEXT,                 -- XTR (Telegram Stars)
    payment_date TEXT,
    subscription_type TEXT,        -- premium_month –∏–ª–∏ premium_year
    status TEXT,                   -- completed, pending, failed
    FOREIGN KEY (user_id) REFERENCES users (user_id)
)
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config.py`)

```python
# –¶–µ–Ω—ã –ø–æ–¥–ø–∏—Å–æ–∫ –≤ –∑–≤–µ–∑–¥–∞—Ö
PREMIUM_MONTH_PRICE = 249   # –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –º–µ—Å—è—Ü
PREMIUM_YEAR_PRICE = 2499   # –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –≥–æ–¥

# –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–æ–∫ –≤ –¥–Ω—è—Ö
PREMIUM_MONTH_DAYS = 30
PREMIUM_YEAR_DAYS = 365
```

### 3. –ú–µ—Ç–æ–¥—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`database.py`)

#### `update_subscription(user_id, subscription_type, days)`
–û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ - –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç –æ—Ç –µ—ë –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞ - –Ω–∞—á–∏–Ω–∞–µ—Ç —Å —Ç–µ–∫—É—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏

```python
await db.update_subscription(user_id, "premium_month", 30)
```

#### `add_payment(user_id, amount, currency, subscription_type, status)`
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞—Ç–µ–∂–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

```python
await db.add_payment(
    user_id=123456,
    amount=249,
    currency="XTR",
    subscription_type="premium_month",
    status="completed"
)
```

#### `check_subscription(user_id)`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```python
subscription = await db.check_subscription(user_id)
# Returns: {"active": True/False, "type": "trial/premium_month/premium_year", "end_date": datetime}
```

### 4. –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (`keyboards.py`)

#### `get_subscription_menu()`
–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é –ø–æ–¥–ø–∏—Å–∫–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
- ‚≠êÔ∏è –û—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–µ–º–∏—É–º
- ‚ÑπÔ∏è –û –ø–æ–¥–ø–∏—Å–∫–∞—Ö

#### `get_premium_options_menu()`
–ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∞:
- üìÖ –ú–µ—Å—è—Ü - 249 ‚≠êÔ∏è
- üìÜ –ì–æ–¥ - 2499 ‚≠êÔ∏è
- ¬´ –ù–∞–∑–∞–¥

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É

```
/subscription ‚Üí "‚≠êÔ∏è –û—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–µ–º–∏—É–º" ‚Üí –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∞—Ä–∏—Ñ
```

### 2. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω–≤–æ–π—Å

```python
await bot.send_invoice(
    chat_id=user_id,
    title="–ü—Ä–µ–º–∏—É–º - 1 –º–µ—Å—è—Ü",
    description="–î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –±–æ—Ç–∞ –Ω–∞ 30 –¥–Ω–µ–π",
    payload=f"premium_month_{user_id}",
    currency="XTR",  # Telegram Stars
    prices=[LabeledPrice(label="–ü—Ä–µ–º–∏—É–º - 1 –º–µ—Å—è—Ü", amount=249)]
)
```

### 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç

Telegram –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã Stars.

### 4. Pre-checkout –∑–∞–ø—Ä–æ—Å

```python
@dp.pre_checkout_query()
async def pre_checkout_query_handler(pre_checkout_query: PreCheckoutQuery):
    await bot.answer_pre_checkout_query(pre_checkout_query.id, ok=True)
```

### 5. –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞

```python
@dp.message(F.successful_payment)
async def successful_payment_handler(message: Message):
    # –ü–∞—Ä—Å–∏–º —Ç–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏ –∏–∑ payload
    # –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–ª–∞—Ç–µ–∂
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
```

---

## üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞

### –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –¥–∞—Ä–æ–≤

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É –ø–µ—Ä–µ–¥ —Ä–∞—Å—á–µ—Ç–æ–º
subscription = await db.check_subscription(user_id)
if not subscription['active']:
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∫–∏
    # –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–µ–º–∏—É–º
    return
```

### –î–ª—è –±—É–¥—É—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

```python
# –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–µ–º–∏—É–º
subscription = await db.check_subscription(user_id)
if subscription['type'] not in ['premium_month', 'premium_year']:
    await message.answer("‚ö†Ô∏è –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤")
    return
```

---

## üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

1. `/start` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–±–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º (7 –¥–Ω–µ–π)
2. –ú–æ–∂–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º 7 –¥–Ω–µ–π
3. –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

### –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

1. –ù–∞–∂–∏–º–∞–µ—Ç "üíé –ü–æ–¥–ø–∏—Å–∫–∞"
2. –í—ã–±–∏—Ä–∞–µ—Ç "‚≠êÔ∏è –û—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–µ–º–∏—É–º"
3. –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∞—Ä–∏—Ñ (–º–µ—Å—è—Ü/–≥–æ–¥)
4. –û–ø–ª–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ Telegram Stars
5. –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

### –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

- –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ - –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –æ—Ç –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π
- –ï—Å–ª–∏ –∏—Å—Ç–µ–∫–ª–∞ - –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–æ–º–µ–Ω—Ç–∞ –æ–ø–ª–∞—Ç—ã

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

```python
user_id = 123456789
subscription = await db.check_subscription(user_id)

if subscription['active']:
    print(f"–ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞: {subscription['type']}")
    print(f"–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {subscription['end_date']}")
else:
    print("–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞")
```

### –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π

```python
payments = await db.get_user_payments(user_id)
for payment in payments:
    print(f"{payment['payment_date']}: {payment['amount']} ‚≠êÔ∏è")
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º

```python
stats = await db.get_subscription_stats()
for stat in stats:
    print(f"{stat['subscription_type']}: {stat['active_count']} –∞–∫—Ç–∏–≤–Ω—ã—Ö")
```

---

## üéØ –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –í—ã–¥–∞—á–∞ –ø—Ä–µ–º–∏—É–º–∞ –≤—Ä—É—á–Ω—É—é

```python
# –í—ã–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –º–µ—Å—è—Ü
await db.update_subscription(user_id, "premium_month", 30)

# –í—ã–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –≥–æ–¥
await db.update_subscription(user_id, "premium_year", 365)

# –í—ã–¥–∞—Ç—å –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥
await db.update_subscription(user_id, "trial", 7)
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```sql
-- –í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏
SELECT user_id, subscription_type, subscription_end_date
FROM users
WHERE datetime(subscription_end_date) > datetime('now');

-- –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –ø–µ—Ä–∏–æ–¥
SELECT SUM(amount) as total_stars
FROM payments
WHERE payment_date >= '2026-01-01';

-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã
SELECT subscription_type, COUNT(*) as count
FROM payments
GROUP BY subscription_type;
```

---

## üîÆ –ë—É–¥—É—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–º–∏—É–º

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:

1. **üé¥ –ì–∞–¥–∞–Ω–∏—è**
   - –ö–∞—Ä—Ç—ã –¢–∞—Ä–æ
   - –†—É–Ω—ã
   - –ò-–¶–∑–∏–Ω

2. **‚ù§Ô∏è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
   - –ê–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–æ –¥–∞—Ä–∞–º
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π

3. **üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –ü—Ä–æ–≥–Ω–æ–∑—ã –Ω–∞ –≥–æ–¥
   - –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ –¥–∞—Ç—ã
   - –¶–∏–∫–ª—ã –∂–∏–∑–Ω–∏

4. **üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –¥–∞—Ä–∞–º–∏
   - –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–µ–º–∏—É–º:

```python
@dp.message(Command("premium_feature"))
async def premium_feature(message: Message):
    user_id = message.from_user.id
    subscription = await db.check_subscription(user_id)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫—É
    if subscription['type'] not in ['premium_month', 'premium_year']:
        await message.answer(
            "‚ö†Ô∏è –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤",
            reply_markup=get_subscription_menu()
        )
        return
    
    # –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ - –≤—ã–ø–æ–ª–Ω—è–µ–º
    await message.answer("üéâ –ü—Ä–µ–º–∏—É–º —Ñ—É–Ω–∫—Ü–∏—è!")
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∑–∞–ø—É—Å–∫–∞

- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –¶–µ–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (249/2499 Stars)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–ø–ª–∞—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò–Ω–≤–æ–π—Å—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ –ü–ª–∞—Ç–µ–∂–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –¢–µ—Å—Ç–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ –≤ Telegram

–í –ø–µ—Å–æ—á–Ω–∏—Ü–µ Telegram –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–ª–∞—Ç—É Stars –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
sqlite3 data/bot_database.db

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users;

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞—Ç–µ–∂–µ–π
SELECT * FROM payments;
```

### 3. –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ 7 –¥–Ω–µ–π
   - –†–∞—Å—á–µ—Ç –¥–∞—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

2. **–ò—Å—Ç–µ—á–µ–Ω–∏–µ –ø—Ä–æ–±–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞:**
   - –ü–æ–ø—ã—Ç–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ ‚Üí –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

3. **–û–ø–ª–∞—Ç–∞ –º–µ—Å—è—á–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏:**
   - –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ ‚Üí –û–ø–ª–∞—Ç–∞ ‚Üí –ê–∫—Ç–∏–≤–∞—Ü–∏—è

4. **–ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏:**
   - –û–ø–ª–∞—Ç–∞ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è ‚Üí –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è

---

## üìù –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –í–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
logger.info(f"–ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: user_id={user_id}")
logger.info(f"–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞: user_id={user_id}, amount={amount}, type={type}")
logger.warning(f"–ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏: user_id={user_id}")
logger.error(f"–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã: user_id={user_id}, error={error}")
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–ë–æ—Ç:** `@test_bot_dlya_darov_bot`

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. `/start` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
2. "üíé –ü–æ–¥–ø–∏—Å–∫–∞" - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥–ø–∏—Å–∫–∏
3. "‚≠êÔ∏è –û—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–µ–º–∏—É–º" - –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞
4. –û–ø–ª–∞—Ç–∞ ‚Üí –ê–∫—Ç–∏–≤–∞—Ü–∏—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 02.01.2026  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ

