"""
Модуль для работы с базой данных команд для сантр
"""
COMMANDS_DATABASE = {
    "Бра": {
        "имя": "Бра",
        "описание": "Соединение (как рукопожатие)",
        "позиция": ["между"]
    },
    "Кри": {
        "имя": "Кри",
        "описание": "Один меняет (влияет) на другой",
        "позиция": ["между"]
    },
    "Зи": {
        "имя": "Зи",
        "описание": "Заземляет, структурирует",
        "позиция": ["между"]
    },
    "Ли": {
        "имя": "Ли",
        "описание": "Отсекает как МА-ТА",
        "позиция": ["между"]
    },
    "Ду": {
        "имя": "Ду",
        "описание": "Один насыщает второго",
        "позиция": ["между"]
    },
    "Ха": {
        "имя": "Ха",
        "описание": "Один либо разрывает, либо объединяет объект",
        "позиция": ["между"]
    },
    "Си": {
        "имя": "Си",
        "описание": "Один связанный (синхронизированный) с двумя (с другими)",
        "позиция": ["между"]
    },
    "Ци": {
        "имя": "Ци",
        "описание": "Один из двух берет энергию",
        "позиция": ["между"]
    },
    "Шу": {
        "имя": "Шу",
        "описание": "Сделать дубликат сути, оставив первоисточник. Один копирует Два и они вместе независимо управляют. Также: Мое внимание идет в прошлое, Я нахожусь внутри себя, Я проживаю свое прошлое внутри себя",
        "позиция": ["между", "начало"]
    },
    "Ша": {
        "имя": "Ша",
        "описание": "Мое внимание выходит во вне - Я как внешний наблюдатель",
        "позиция": ["начало"]
    },
    "Ши": {
        "имя": "Ши",
        "описание": "Внимание - начало всего. Мое внимание погружается во внутрь меня",
        "позиция": ["начало"]
    },
    "Шу-а": {
        "имя": "Шу-а",
        "описание": "Я своим вниманием погружаюсь глубоко в свое прошлое, также находясь и в позиции наблюдателя, Я могу управлять своим прошлым и менять его",
        "позиция": ["начало"]
    },
    "Ши-а": {
        "имя": "Ши-а",
        "описание": "Я своим внимание погружаюсь и во внутрь себя и выхожу во вне - Я как наблюдатель и участник процесса",
        "позиция": ["начало"]
    },
    "Ата": {
        "имя": "Ата",
        "описание": "Один автоматизирует другой объект",
        "позиция": ["конец"]
    }
}


def get_commands_by_position(position: str) -> list:
    """
    Получение команд по позиции
    
    Args:
        position: Позиция команды ("начало", "между", "конец")
    
    Returns:
        Список команд с указанной позицией
    """
    result = []
    for cmd_name, cmd_data in COMMANDS_DATABASE.items():
        if position in cmd_data.get("позиция", []):
            result.append({
                "имя": cmd_data["имя"],
                "описание": cmd_data["описание"],
                "позиция": cmd_data["позиция"]
            })
    return result


def get_command_info(command_name: str) -> dict:
    """
    Получение информации о команде по имени
    
    Args:
        command_name: Имя команды
    
    Returns:
        Словарь с информацией о команде или пустой словарь
    """
    # Нормализуем имя команды (регистр не важен)
    command_name = command_name.strip()
    
    # Прямой поиск
    if command_name in COMMANDS_DATABASE:
        return COMMANDS_DATABASE[command_name]
    
    # Поиск без учета регистра
    for cmd_name, cmd_data in COMMANDS_DATABASE.items():
        if cmd_name.lower() == command_name.lower():
            return cmd_data
    
    return {}


def get_all_commands() -> dict:
    """Получение всех команд из базы данных"""
    return COMMANDS_DATABASE

